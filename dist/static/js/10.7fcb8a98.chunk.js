(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[10],{141:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(21),r=n(13),l=n(76),s=n(81),o=n(80),d=n(77),b=n(128),h=n.n(b),j=n(27);var u,f,x,O,p,g,m,v,w,y,k,S,_,C,I,R,T,z,E=n(74),H=n(75),D=n(111),N=H.a.div(u||(u=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 20px;\n  width: 100%;\n"]))),B=H.a.div(f||(f=Object(E.a)(["\n  font-size: 20px;\n  margin: 0 0 10px;\n"]))),K=H.a.div(x||(x=Object(E.a)(["\n  background: #fff;\n  padding: 20px 30px;\n  border-radius: 10px;\n  height: ",";\n  min-height: 500px;\n"])),(function(e){return e.height?e.height+"px":"auto"})),P=H.a.div(O||(O=Object(E.a)(["\n  height: ",";\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  overflow: auto;\n"])),(function(e){return e.height?e.height-20+"px":"auto"})),A=H.a.div(p||(p=Object(E.a)(["\n  display: flex;\n  margin-bottom: 30px;\n  align-items: flex-end;\n  button {\n    margin-left: auto;\n  }\n"]))),L=H.a.div(g||(g=Object(E.a)(["\n  font-size: 25px;\n  margin: 0 20px;\n"]))),M=H.a.div(m||(m=Object(E.a)(["\n  display: flex;\n  width: 30px;\n  height: 30px;\n  border: 1px solid #bbb;\n  border-radius: 4em;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  background-position: center;\n  background-image: ",";\n"])),(function(e){return e.image?"url(".concat(e.image,")"):"url(".concat(D.d,")")})),Y=H.a.div(v||(v=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),X=H.a.div(w||(w=Object(E.a)(["\n  display: flex;\n  margin-right: 25px;\n  span {\n    margin-right: 10px;\n  }\n"]))),G=H.a.div(y||(y=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  color: #767676;\n"]))),J=H.a.div(k||(k=Object(E.a)(["\n  display: flex;\n  margin-bottom: 10px;\n  height: 40px;\n  align-items: center;\n"]))),U=H.a.span(S||(S=Object(E.a)(["\n  width: 100px;\n  border-bottom: thick dotted transparent;\n  font-size: 18px;\n  font-weight: bold;\n"]))),W=H.a.span(_||(_=Object(E.a)(["\n  width: 300px;\n  padding-bottom: 7px;\n  padding-left: 10px;\n  margin-left: 10p;\n  border-bottom: thick dotted #bbb;\n"]))),q=n(3),F=function(e){e.rowIndex;var t,n,i,r=e.data,s=e.height,o=Object(c.a)(),d=Object(a.useCallback)((function(e){var t,n,a,i,c,l,s=r.config;s={isRating:"rate"===e?!(null===(t=r.config)||void 0===t?void 0:t.isRating):null===(n=r.config)||void 0===n?void 0:n.isRating,isSession:"session"===e?!(null===(a=r.config)||void 0===a?void 0:a.isSession):null===(i=r.config)||void 0===i?void 0:i.isSession,isStatistics:"stat"===e?!(null===(c=r.config)||void 0===c?void 0:c.isStatistics):null===(l=r.config)||void 0===l?void 0:l.isStatistics},o(Object(j.d)({memberId:r._id,config:s}))}),[r,o]);return Object(q.jsxs)(P,{height:s,children:[Object(q.jsxs)(A,{children:[Object(q.jsx)(M,{image:r.profileThumbnail}),Object(q.jsx)(L,{children:r.name}),Object(q.jsx)(l.d,{checked:"enabled"===r.state,onChange:function(e){var t="enabled"===r.state?"disabled":"enabled";o(Object(j.f)({memberId:r._id,state:t}))}}),Object(q.jsx)("button",{children:Object(q.jsx)("a",{target:"_blank",href:"https://dev-asb-market.happytalk.io/admin/account/login?memberId=".concat(r._id,"&name=").concat(r.name,"&email=").concat(r.email),rel:"noreferrer",children:"\uc5d0\ub514\ud130 \uc5f4\uae30"})})]}),Object(q.jsxs)(G,{children:[Object(q.jsxs)(J,{children:[Object(q.jsx)(U,{children:"Config"}),Object(q.jsxs)(Y,{children:[Object(q.jsxs)(X,{children:[Object(q.jsx)("span",{children:"\ud3c9\uac00\ubaa9\ub85d"}),Object(q.jsx)(l.d,{checked:(null===(t=r.config)||void 0===t?void 0:t.isRating)||!1,onChange:function(e){return d("rate")}})]}),Object(q.jsxs)(X,{children:[Object(q.jsx)("span",{children:"\uc138\uc158\ubaa9\ub85d"}),Object(q.jsx)(l.d,{checked:(null===(n=r.config)||void 0===n?void 0:n.isSession)||!1,onChange:function(e){return d("session")}})]}),Object(q.jsxs)(X,{children:[Object(q.jsx)("span",{children:"\ud1b5\uacc4\ubaa9\ub85d"}),Object(q.jsx)(l.d,{checked:(null===(i=r.config)||void 0===i?void 0:i.isStatistics)||!1,onChange:function(e){return d("stat")}})]})]})]}),Object(q.jsxs)(J,{children:[Object(q.jsx)(U,{children:"E-mail"}),Object(q.jsx)(W,{children:r.email})]}),Object(q.jsxs)(J,{children:[Object(q.jsx)(U,{children:"Phone"}),Object(q.jsx)(W,{children:r.phone||"-----"})]}),Object(q.jsxs)(J,{children:[Object(q.jsx)(U,{children:"Provider"}),Object(q.jsx)(W,{children:r.provider||"-----"})]}),Object(q.jsxs)(J,{children:[Object(q.jsx)(U,{children:"License"}),Object(q.jsx)(W,{children:r.license})]})]})]})},Q=n(112),V=n(133),Z=(n(132),H.a.div(C||(C=Object(E.a)(["\n  user-select: none;\n  width: 100%;\n  height: ",';\n  .BaseTable__table-main {\n    outline: none;\n  }\n  .BaseTable__header-row {\n    border: none;\n    box-shadow: inset 0 -1px 0 0 #eaeaea;\n    color: #767676;\n    font-weight: 500;\n  }\n  .BaseTable__header-cell {\n    justify-content: center;\n    text-align: center;\n  }\n  .BaseTable__header-cell:after {\n    position: absolute;\n    content: "";\n    border-right: 1px solid #d8d8d8;\n    height: 60%;\n    -webkit-transform: translateX(-5%);\n    -ms-transform: translateX(-5%);\n    transform: translateX(-5%);\n    right: 2px;\n  }\n  .BaseTable__row-cell {\n    color: #767676;\n    user-select: text;\n    cursor: pointer;\n  }\n  .BaseTable__header-cell:first-child,\n  .BaseTable__row-cell:first-child {\n    padding-left: 5px;\n  }\n  .row-selected {\n    background-color: #e9f1fe;\n  }\n'])),(function(e){return e.heigth?e.heigth+"px":"1000px"}))),$=H.a.div(I||(I=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),ee=H.a.div(R||(R=Object(E.a)(["\n  display: flex;\n  align-items: center;\n  height: 33px;\n  color: #767676;\n  margin: 0 7px 5px;\n  font-size: 18px;\n  font-weight: 400;\n"]))),te=H.a.div(T||(T=Object(E.a)(["\n  display: flex;\n  margin: 0 0 5px;\n  .selectRow {\n    display: flex;\n    align-items: center;\n    margin: 0 10px;\n    color: #767676;\n  }\n  .searchCol {\n    width: 100px;\n    margin-right: 5px;\n  }\n"]))),ne=H.a.div(z||(z=Object(E.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  font-size: 30px;\n  color: rgb(148, 148, 148);\n"]))),ae=function(e){var t=Object.assign({},e),n=Object(a.useState)(t.data),i=Object(d.a)(n,2),c=i[0],r=i[1],s=Object(a.useState)(),o=Object(d.a)(s,2),b=o[0],h=o[1],j=Object(a.useState)(""),u=Object(d.a)(j,2),f=u[0],x=u[1],O=Object(a.useState)([]),p=Object(d.a)(O,2),g=p[0],m=p[1],v=Object(a.useState)({key:"all",label:"All"}),w=Object(d.a)(v,2),y=w[0],k=w[1],S=Object(a.useState)(-9),_=Object(d.a)(S,2),C=_[0],I=_[1];Object(a.useEffect)((function(){t.selectedRowIndex&&I(t.selectedRowIndex)}),[t.selectedRowIndex]),Object(a.useEffect)((function(){if(t.search){var e=t.colums.filter((function(e){return e.hasOwnProperty("searchable")&&e.searchable})).map((function(e){return{key:e.key,label:e.title}}));m([].concat(Object(Q.a)(e),[{key:"all",label:"All"}]))}}),[t.colums]);var R=function(e){var n=e.key,a=e.order,i=Object(Q.a)(c).sort((function(e,t){return e[n]>t[n]?"asc"===a?-1:1:e[n]<t[n]?"asc"===a?1:-1:0}));b&&b.key&&"desc"===b.order?(h({key:"",order:"asc"}),r(Object(Q.a)(t.data))):(h({key:n,order:a}),r(Object(Q.a)(i)))};Object(a.useEffect)((function(){var e=[];if(""!==f){var n=t.colums.filter((function(e){return"all"===y.key?e.hasOwnProperty("searchable")&&e.searchable:e.key===y.key})).map((function(e){return e.key}));e=t.data.filter((function(e){for(var t=!1,a=0,i=Object.entries(e);a<i.length;a++){var c=Object(d.a)(i[a],2),r=c[0],l=c[1];if(n.includes(r)){var s=l.toString().toLowerCase(),o=f.toLowerCase();s.includes(o)&&(t=!0)}}return!!t&&e})),r(e)}else r(t.data)}),[f,t.data]);var T=Object(a.useCallback)((function(e){var t=e.rowIndex;return C&&t===C-1?"row-selected":""}),[C]),z=function(e){var t=e.cellData,n=e.column,a=e.className;return n.tooltip?Object(q.jsx)(l.e,{content:t,color:"#1a1a1a",borderColor:"#377dff",bgColor:"#fff",children:Object(q.jsx)("span",{className:a,children:t})}):Object(q.jsx)("span",{className:a,children:t})};return Object(q.jsxs)(Z,{heigth:t.defaultHeight,children:[(t.search||t.tableTitle)&&Object(q.jsxs)($,{children:[Object(q.jsx)(ee,{children:t.tableTitle}),t.search&&Object(q.jsxs)(te,{children:[Object(q.jsxs)("span",{className:"selectRow",children:[c.length," Items"]}),Object(q.jsx)(l.c,{className:"searchCol",options:g,value:y,onChange:function(e){k(e),x("")},isSearchable:!0,minHeight:33}),Object(q.jsx)(l.b,{width:"200px",type:"text",value:f,onChange:function(e){I(-9),x(e.target.value)},isSeachIcon:!0,placeholder:"Search..."})]})]}),Object(q.jsx)(V.a,{children:function(e){var n=e.width,a=e.height;return Object(q.jsx)(V.b,{data:c,columns:t.colums,width:n,height:t.search||t.tableTitle?a-53:a,headerHeight:32,rowHeight:32,sortBy:b,onColumnSort:R,emptyRenderer:Object(q.jsx)(ne,{children:t.emptyText}),rowEventHandlers:t.rowEventHandlers,rowClassName:t.selectedRowIndex?T:"",components:{TableCell:z}})}})]})},ie=i.a.memo(ae),ce=n(6),re=[{label:"Single",key:"single"},{label:"Basic",key:"basic"},{label:"Standard",key:"standard"},{label:"Premium",key:"premium"},{label:"Unlimited",key:"unlimited"}],le=function(){var e=Object(c.b)(j.g),t=(Object(ce.g)(),Object(c.a)());Object(a.useEffect)((function(){t(Object(j.b)())}),[]);var n=Object(a.useState)([]),r=Object(d.a)(n,2),s=r[0],o=r[1],b=i.a.useMemo((function(){return[{key:"index",dataKey:"index",title:"No.",width:70,sortable:!0,resizable:!1,searchable:!1,align:"center"},{key:"_id",dataKey:"_id",title:"ID",width:250,sortable:!0,resizable:!0,tooltip:!0,searchable:!0},{key:"name",dataKey:"name",title:"Name",width:150,sortable:!0,resizable:!0,searchable:!0,tooltip:!0},{key:"license",dataKey:"license",title:"License",width:120,cellRenderer:function(e){var n=e.cellData,a=e.rowData;return Object(q.jsx)("div",{style:{width:"100px"},children:Object(q.jsx)(l.c,{className:"searchCol",options:re,value:re.filter((function(e){return e.key===n})),onChange:function(e){t(Object(j.e)({memberId:a._id,state:e.key}))},isSearchable:!1})})},sortable:!0,searchable:!0,align:"center"},{key:"email",dataKey:"email",title:"Email",width:200,flexGrow:1,sortable:!0,searchable:!0,resizable:!0,tooltip:!0},{key:"phone",dataKey:"phone",title:"Phone",width:150,sortable:!0,searchable:!0,resizable:!0,align:"center"},{key:"provider",dataKey:"provider",title:"Provider",width:150,sortable:!0,searchable:!0,align:"center"},{key:"createdAt",dataKey:"createdAt",title:"CreatedAt",width:150,flexGrow:1,sortable:!0,searchable:!0,tooltip:!0},{key:"state",dataKey:"state",title:"State",width:100,cellRenderer:function(e){var n=e.cellData,a=e.rowData;return Object(q.jsx)(l.d,{checked:"enabled"===n,onChange:function(e,i){i.stopPropagation(),i.preventDefault();var c="enabled"===n?"disabled":"enabled";t(Object(j.f)({memberId:a._id,state:c}))}})},sortable:!0,searchable:!1,align:"center"}]}),[]);Object(a.useEffect)((function(){if(e.lists.length){var t=e.lists.map((function(e,t){return{id:t,index:t+1,_id:e._id,name:e.name,license:e.license,email:e.email,phone:(null===e||void 0===e?void 0:e.phone)||"------",provider:e.provider,createdAt:h()(e.createdAt).format("YYYY/MM/DD HH:mm:ss"),state:(null===e||void 0===e?void 0:e.state)||"error"}}));o(t)}}),[e]);var u=Object(a.useState)(-9),f=Object(d.a)(u,2),x=f[0],O=f[1],p=function(){var e=Object(a.useState)({width:-1,height:-1}),t=Object(d.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){function e(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}().height,g=Object(a.useRef)(null),m=Object(a.useState)(-1),v=Object(d.a)(m,2),w=v[0],y=v[1];return Object(a.useEffect)((function(){g.current&&(y(g.current.offsetHeight),O(-9),"_id"in e.active&&t(Object(j.c)(null)))}),[g,p]),Object(q.jsxs)(N,{children:[Object(q.jsx)(B,{children:"Customer List"}),Object(q.jsxs)(K,{ref:g,height:-9===x||w-440>300?p-168:700,children:[Object(q.jsx)(ie,{colums:b,data:s,defaultHeight:-9===x?w-40:w-440>300?w-440:300,search:!0,emptyText:"No Data",tableTitle:"\uc5b4\uc378\ubd07 \uace0\uac1d \ub9ac\uc2a4\ud2b8",rowEventHandlers:{onClick:function(e){var n=e.rowData,a=e.rowIndex;if(a+1===x)O(-9),t(Object(j.c)(null));else{var i=n._id;t(Object(j.c)(i)),O(a+1)}}},selectedRowIndex:x}),-9!==x&&Object(q.jsx)(F,{rowIndex:x,data:e.active,height:400})]})]})};t.default=function(){var e=Object(c.b)(r.d).leftMenuSize;return Object(q.jsxs)(l.a,{width:e,children:[Object(q.jsx)(s.a,{}),Object(q.jsx)(o.a,{}),Object(q.jsx)(le,{})]})}}}]);
//# sourceMappingURL=10.7fcb8a98.chunk.js.map