(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[7],{156:function(e,t,n){"use strict";n.r(t);var a,i,c,r,l,s,o,d,b,h,j,u,f,x,O,p,g,m,v=n(0),y=n.n(v),w=n(27),k=n(13),S=n(77),_=n(89),C=n(87),I=n(28),R=n(127),T=n.n(R),z=n(29),D=n(105),E=n(75),H=n(76),N=n(96),B=H.a.div(a||(a=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 20px;\n  width: 100%;\n"]))),K=H.a.div(i||(i=Object(E.a)(["\n  font-size: 20px;\n  margin: 0 0 10px;\n"]))),P=H.a.div(c||(c=Object(E.a)(["\n  background: #fff;\n  padding: 20px 30px;\n  border-radius: 10px;\n  height: ",";\n  min-height: 500px;\n"])),(function(e){return e.height?e.height+"px":"auto"})),A=H.a.div(r||(r=Object(E.a)(["\n  height: ",";\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  overflow: auto;\n"])),(function(e){return e.height?e.height-20+"px":"auto"})),L=H.a.div(l||(l=Object(E.a)(["\n  display: flex;\n  margin-bottom: 30px;\n  align-items: flex-end;\n  button {\n    margin-left: auto;\n  }\n"]))),M=H.a.div(s||(s=Object(E.a)(["\n  font-size: 25px;\n  margin: 0 20px;\n"]))),Y=H.a.div(o||(o=Object(E.a)(["\n  display: flex;\n  width: 30px;\n  height: 30px;\n  border: 1px solid #bbb;\n  border-radius: 4em;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  background-position: center;\n  background-image: ",";\n"])),(function(e){return e.image?"url(".concat(e.image,")"):"url(".concat(N.j,")")})),X=H.a.div(d||(d=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),G=H.a.div(b||(b=Object(E.a)(["\n  display: flex;\n  margin-right: 25px;\n  span {\n    margin-right: 10px;\n  }\n"]))),J=H.a.div(h||(h=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  color: #767676;\n"]))),U=H.a.div(j||(j=Object(E.a)(["\n  display: flex;\n  margin-bottom: 10px;\n  height: 40px;\n  align-items: center;\n"]))),q=H.a.span(u||(u=Object(E.a)(["\n  width: 100px;\n  border-bottom: thick dotted transparent;\n  font-size: 18px;\n  font-weight: bold;\n"]))),F=H.a.span(f||(f=Object(E.a)(["\n  width: 300px;\n  padding-bottom: 7px;\n  padding-left: 10px;\n  margin-left: 10p;\n  border-bottom: thick dotted #bbb;\n"]))),Q=n(4),V=function(e){e.rowIndex;var t,n,a,i=e.data,c=e.height,r=Object(w.a)(),l=Object(v.useCallback)((function(e){var t,n,a,c,l,s,o=i.config;o={isRating:"rate"===e?!(null===(t=i.config)||void 0===t?void 0:t.isRating):null===(n=i.config)||void 0===n?void 0:n.isRating,isSession:"session"===e?!(null===(a=i.config)||void 0===a?void 0:a.isSession):null===(c=i.config)||void 0===c?void 0:c.isSession,isStatistics:"stat"===e?!(null===(l=i.config)||void 0===l?void 0:l.isStatistics):null===(s=i.config)||void 0===s?void 0:s.isStatistics},r(Object(z.d)({memberId:i._id,config:o}))}),[i,r]);return Object(Q.jsxs)(A,{height:c,children:[Object(Q.jsxs)(L,{children:[Object(Q.jsx)(Y,{image:i.profileThumbnail}),Object(Q.jsx)(M,{children:i.name}),Object(Q.jsx)(S.d,{checked:"enabled"===i.state,onChange:function(e){var t="enabled"===i.state?"disabled":"enabled";r(Object(z.f)({memberId:i._id,state:t}))}}),Object(Q.jsx)("button",{children:Object(Q.jsx)("a",{target:"_blank",href:"https://dev-asb-market.happytalk.io/admin/account/login?memberId=".concat(i._id,"&name=").concat(i.name,"&email=").concat(i.email),rel:"noreferrer",children:"\uc5d0\ub514\ud130 \uc5f4\uae30"})})]}),Object(Q.jsxs)(J,{children:[Object(Q.jsxs)(U,{children:[Object(Q.jsx)(q,{children:"Config"}),Object(Q.jsxs)(X,{children:[Object(Q.jsxs)(G,{children:[Object(Q.jsx)("span",{children:"\ud3c9\uac00\ubaa9\ub85d"}),Object(Q.jsx)(S.d,{checked:(null===(t=i.config)||void 0===t?void 0:t.isRating)||!1,onChange:function(e){return l("rate")}})]}),Object(Q.jsxs)(G,{children:[Object(Q.jsx)("span",{children:"\uc138\uc158\ubaa9\ub85d"}),Object(Q.jsx)(S.d,{checked:(null===(n=i.config)||void 0===n?void 0:n.isSession)||!1,onChange:function(e){return l("session")}})]}),Object(Q.jsxs)(G,{children:[Object(Q.jsx)("span",{children:"\ud1b5\uacc4\ubaa9\ub85d"}),Object(Q.jsx)(S.d,{checked:(null===(a=i.config)||void 0===a?void 0:a.isStatistics)||!1,onChange:function(e){return l("stat")}})]})]})]}),Object(Q.jsxs)(U,{children:[Object(Q.jsx)(q,{children:"E-mail"}),Object(Q.jsx)(F,{children:i.email})]}),Object(Q.jsxs)(U,{children:[Object(Q.jsx)(q,{children:"Phone"}),Object(Q.jsx)(F,{children:i.phone||"-----"})]}),Object(Q.jsxs)(U,{children:[Object(Q.jsx)(q,{children:"Provider"}),Object(Q.jsx)(F,{children:i.provider||"-----"})]}),Object(Q.jsxs)(U,{children:[Object(Q.jsx)(q,{children:"License"}),Object(Q.jsx)(F,{children:i.license})]})]})]})},W=n(107),Z=n(150),$=(n(131),H.a.div(x||(x=Object(E.a)(["\n  user-select: none;\n  width: 100%;\n  height: ",';\n  .BaseTable__table-main {\n    outline: none;\n  }\n  .BaseTable__header-row {\n    border: none;\n    box-shadow: inset 0 -1px 0 0 #eaeaea;\n    color: #767676;\n    font-weight: 500;\n  }\n  .BaseTable__header-cell {\n    justify-content: center;\n    text-align: center;\n  }\n  .BaseTable__header-cell:after {\n    position: absolute;\n    content: "";\n    border-right: 1px solid #d8d8d8;\n    height: 60%;\n    -webkit-transform: translateX(-5%);\n    -ms-transform: translateX(-5%);\n    transform: translateX(-5%);\n    right: 2px;\n  }\n  .BaseTable__row-cell {\n    color: #767676;\n    user-select: text;\n    cursor: pointer;\n  }\n  .BaseTable__header-cell:first-child,\n  .BaseTable__row-cell:first-child {\n    padding-left: 5px;\n  }\n  .row-selected {\n    background-color: #e9f1fe;\n  }\n'])),(function(e){return e.heigth?e.heigth+"px":"1000px"}))),ee=H.a.div(O||(O=Object(E.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),te=H.a.div(p||(p=Object(E.a)(["\n  display: flex;\n  align-items: center;\n  height: 33px;\n  color: #767676;\n  margin: 0 7px 5px;\n  font-size: 18px;\n  font-weight: 400;\n"]))),ne=H.a.div(g||(g=Object(E.a)(["\n  display: flex;\n  margin: 0 0 5px;\n  .selectRow {\n    display: flex;\n    align-items: center;\n    margin: 0 10px;\n    color: #767676;\n  }\n  .searchCol {\n    width: 100px;\n    margin-right: 5px;\n  }\n"]))),ae=H.a.div(m||(m=Object(E.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  font-size: 30px;\n  color: rgb(148, 148, 148);\n"]))),ie=function(e){var t=Object.assign({},e),n=Object(v.useState)(t.data),a=Object(I.a)(n,2),i=a[0],c=a[1],r=Object(v.useState)(),l=Object(I.a)(r,2),s=l[0],o=l[1],d=Object(v.useState)(""),b=Object(I.a)(d,2),h=b[0],j=b[1],u=Object(v.useState)([]),f=Object(I.a)(u,2),x=f[0],O=f[1],p=Object(v.useState)({key:"all",label:"All"}),g=Object(I.a)(p,2),m=g[0],y=g[1],w=Object(v.useState)(-9),k=Object(I.a)(w,2),_=k[0],C=k[1];Object(v.useEffect)((function(){t.selectedRowIndex&&C(t.selectedRowIndex)}),[t.selectedRowIndex]),Object(v.useEffect)((function(){if(t.search){var e=t.colums.filter((function(e){return e.hasOwnProperty("searchable")&&e.searchable})).map((function(e){return{key:e.key,label:e.title}}));O([].concat(Object(W.a)(e),[{key:"all",label:"All"}]))}}),[t.colums]);var R=function(e){var n=e.key,a=e.order,r=Object(W.a)(i).sort((function(e,t){return e[n]>t[n]?"asc"===a?-1:1:e[n]<t[n]?"asc"===a?1:-1:0}));s&&s.key&&"desc"===s.order?(o({key:"",order:"asc"}),c(Object(W.a)(t.data))):(o({key:n,order:a}),c(Object(W.a)(r)))};Object(v.useEffect)((function(){var e=[];if(""!==h){var n=t.colums.filter((function(e){return"all"===m.key?e.hasOwnProperty("searchable")&&e.searchable:e.key===m.key})).map((function(e){return e.key}));e=t.data.filter((function(e){for(var t=!1,a=0,i=Object.entries(e);a<i.length;a++){var c=Object(I.a)(i[a],2),r=c[0],l=c[1];if(n.includes(r)){var s=l.toString().toLowerCase(),o=h.toLowerCase();s.includes(o)&&(t=!0)}}return!!t&&e})),c(e)}else c(t.data)}),[h,t.data]);var T=Object(v.useCallback)((function(e){var t=e.rowIndex;return _&&t===_-1?"row-selected":""}),[_]),z=function(e){var t=e.cellData,n=e.column,a=e.className;return n.tooltip?Object(Q.jsx)(S.e,{content:t,color:"#1a1a1a",borderColor:"#377dff",bgColor:"#fff",children:Object(Q.jsx)("span",{className:a,children:t})}):Object(Q.jsx)("span",{className:a,children:t})};return Object(Q.jsxs)($,{heigth:t.defaultHeight,children:[(t.search||t.tableTitle)&&Object(Q.jsxs)(ee,{children:[Object(Q.jsx)(te,{children:t.tableTitle}),t.search&&Object(Q.jsxs)(ne,{children:[Object(Q.jsxs)("span",{className:"selectRow",children:[i.length," Items"]}),Object(Q.jsx)(S.c,{className:"searchCol",options:x,value:m,onChange:function(e){y(e),j("")},isSearchable:!0,minHeight:33}),Object(Q.jsx)(S.b,{width:"200px",type:"text",value:h,onChange:function(e){C(-9),j(e.target.value)},isSeachIcon:!0,placeholder:"Search..."})]})]}),Object(Q.jsx)(Z.a,{children:function(e){var n=e.width,a=e.height;return Object(Q.jsx)(Z.b,{data:i,columns:t.colums,width:n,height:t.search||t.tableTitle?a-53:a,headerHeight:32,rowHeight:32,sortBy:s,onColumnSort:R,emptyRenderer:Object(Q.jsx)(ae,{children:t.emptyText}),rowEventHandlers:t.rowEventHandlers,rowClassName:t.selectedRowIndex?T:"",components:{TableCell:z}})}})]})},ce=y.a.memo(ie),re=n(6),le=[{label:"Single",key:"single"},{label:"Basic",key:"basic"},{label:"Standard",key:"standard"},{label:"Premium",key:"premium"},{label:"Unlimited",key:"unlimited"}],se=function(){var e=Object(w.b)(z.g),t=(Object(re.f)(),Object(w.a)());Object(v.useEffect)((function(){t(Object(z.b)())}),[]);var n=Object(v.useState)([]),a=Object(I.a)(n,2),i=a[0],c=a[1],r=y.a.useMemo((function(){return[{key:"index",dataKey:"index",title:"No.",width:70,sortable:!0,resizable:!1,searchable:!1,align:"center"},{key:"_id",dataKey:"_id",title:"ID",width:250,sortable:!0,resizable:!0,tooltip:!0,searchable:!0},{key:"name",dataKey:"name",title:"Name",width:150,sortable:!0,resizable:!0,searchable:!0,tooltip:!0},{key:"license",dataKey:"license",title:"License",width:120,cellRenderer:function(e){var n=e.cellData,a=e.rowData;return Object(Q.jsx)("div",{style:{width:"100px"},children:Object(Q.jsx)(S.c,{className:"searchCol",options:le,value:le.filter((function(e){return e.key===n})),onChange:function(e){t(Object(z.e)({memberId:a._id,state:e.key}))},isSearchable:!1})})},sortable:!0,searchable:!0,align:"center"},{key:"email",dataKey:"email",title:"Email",width:200,flexGrow:1,sortable:!0,searchable:!0,resizable:!0,tooltip:!0},{key:"phone",dataKey:"phone",title:"Phone",width:150,sortable:!0,searchable:!0,resizable:!0,align:"center"},{key:"provider",dataKey:"provider",title:"Provider",width:150,sortable:!0,searchable:!0,align:"center"},{key:"createdAt",dataKey:"createdAt",title:"CreatedAt",width:150,flexGrow:1,sortable:!0,searchable:!0,tooltip:!0},{key:"state",dataKey:"state",title:"State",width:100,cellRenderer:function(e){var n=e.cellData,a=e.rowData;return Object(Q.jsx)(S.d,{checked:"enabled"===n,onChange:function(e,i){i.stopPropagation(),i.preventDefault();var c="enabled"===n?"disabled":"enabled";t(Object(z.f)({memberId:a._id,state:c}))}})},sortable:!0,searchable:!1,align:"center"}]}),[]);Object(v.useEffect)((function(){if(e.lists.length){var t=e.lists.map((function(e,t){return{id:t,index:t+1,_id:e._id,name:e.name,license:e.license,email:e.email,phone:(null===e||void 0===e?void 0:e.phone)||"------",provider:e.provider,createdAt:T()(e.createdAt).format("YYYY/MM/DD HH:mm:ss"),state:(null===e||void 0===e?void 0:e.state)||"error"}}));c(t)}}),[e]);var l=Object(v.useState)(-9),s=Object(I.a)(l,2),o=s[0],d=s[1],b=Object(D.a)().height,h=Object(v.useRef)(null),j=Object(v.useState)(-1),u=Object(I.a)(j,2),f=u[0],x=u[1];return Object(v.useEffect)((function(){h.current&&(x(h.current.offsetHeight),d(-9),"_id"in e.active&&t(Object(z.c)(null)))}),[h,b]),Object(Q.jsxs)(B,{children:[Object(Q.jsx)(K,{children:"Customer List"}),Object(Q.jsxs)(P,{ref:h,height:-9===o||f-440>300?b-168:700,children:[Object(Q.jsx)(ce,{colums:r,data:i,defaultHeight:-9===o?f-40:f-440>300?f-440:300,search:!0,emptyText:"No Data",tableTitle:"\uc5b4\uc378\ubd07 \uace0\uac1d \ub9ac\uc2a4\ud2b8",rowEventHandlers:{onClick:function(e){var n=e.rowData,a=e.rowIndex;if(a+1===o)d(-9),t(Object(z.c)(null));else{var i=n._id;t(Object(z.c)(i)),d(a+1)}}},selectedRowIndex:o}),-9!==o&&Object(Q.jsx)(V,{rowIndex:o,data:e.active,height:400})]})]})};t.default=function(){var e=Object(w.b)(k.d).leftMenuSize;return Object(Q.jsxs)(S.a,{width:e,children:[Object(Q.jsx)(_.a,{}),Object(Q.jsx)(C.a,{}),Object(Q.jsx)(se,{})]})}}}]);
//# sourceMappingURL=7.d1366139.chunk.js.map